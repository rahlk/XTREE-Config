# Contrast Set Learning

## This week's progress..
- [Defect-Prediction](https://github.com/ai-se/Defect-Prediction) is now a new Repo in ai-se github page.
- Fixed CART, CART was a Classifier, now is a regressor. No difference..
- Rewrote [Planning.py](https://github.com/ai-se/Defect-Prediction/blob/master/SOURCE/Planning.py) to encorporte ideas from our discussion this week.

### Modifications to Contrast Set Learning..
1. [Issue \#1](https://github.com/ai-se/Defect-Prediction/issues/1): Use 'alpha to find better nodes'

2. [Issue \#2](https://github.com/ai-se/Defect-Prediction/issues/2): Too many Potential Contrast Sets.

3. [Issue \#3](https://github.com/ai-se/Defect-Prediction/issues/3): Thresholds in CART for better defect prediction.

4. More ideas in [Issues](https://github.com/ai-se/Defect-Prediction/issues?q=)

```Rahuls-MacBook-Pro:SOURCE rkrsn$ main.py ```
### The Quartiles     
```

rank ,         name ,    med   ,  iqr 
----------------------------------------------------
   1 ,          ivy ,    -21.26  ,  31.50 (               | --*          ), -32,  -19,  0
   1 ,       lucene ,    -19.32  ,  13.24 (               | --*          ), -31,  -18,  -13
   1 ,          poi ,    -10.88  ,  21.68 (               |  ---*        ), -25,  -6,  -2
   1 ,       pbeans ,    -5.88   ,  31.58 (               | -----*       ), -31,  0,  3
   1 ,        log4j ,    -3.62   ,  15.78 (               |   ---*       ), -17,  -1,  -1
   1 ,        camel ,    -3.28   ,  7.20  (               |     -*       ), -6,  -2,  8
   1 ,       xerces ,    -1.31   ,  22.59 (               |   ---*       ), -20,  0,  7
   1 ,      forrest ,    0.00   ,  114.29 (       --------|------*       ), -100,  0,  50
   2 ,        xalan ,    1.72   ,   19.25 (               |     -*       ), -6,  2,  12
   2 ,        jedit ,    1.95   ,   11.78 (               |     --*      ), -5,  4,  7
   2 ,     velocity ,    5.89   ,   23.30 (               |    ---*      ), -14,  7,  10
   3 ,      synapse ,    14.29  ,   11.26 (               |       -*     ), 5,  14,  17
   4 ,          ant ,    25.55  ,   15.78 (               |        --*   ), 15,  29,  34
```

# Raw Results
```
## ant
Gain =  19.83 %
Gain =  39.68 %
Gain =  14.05 %
Gain =  29.36 %
Gain =  9.17 %
Gain =  34.55 %
Gain =  31.43 %
Gain =  21.74 %
Gain =  36.52 %
Gain =  15.65 %
['ant', 19.834710743801654, 39.682539682539684, 14.049586776859504, 29.357798165137616, 9.166666666666666, 34.54545454545455, 31.428571428571427, 21.73913043478261, 36.52173913043478, 15.65217391304348]
## camel
Gain =  11.48 %
Gain =  8.02 %
Gain =  -6.65 %
Gain =  -5.53 %
Gain =  -4.17 %
Gain =  -19.44 %
Gain =  19.26 %
Gain =  -7.16 %
Gain =  0.55 %
Gain =  -2.40 %
['camel', 11.479591836734695, 8.020050125313283, -6.64819944598338, -5.529953917050691, -4.166666666666666, -19.437939110070257, 19.264069264069263, -7.161803713527852, 0.546448087431694, -2.4]
## forrest
Gain =  50.00 %
Gain =  14.29 %
Gain =  50.00 %
Gain =  -100.00 %
Gain =  0.00 %
Gain =  -150.00 %
Gain =  50.00 %
Gain =  -66.67 %
Gain =  0.00 %
Gain =  -100.00 %
['forrest', 50.0, 14.285714285714285, 50.0, -100.0, 0.0, -150.0, 50.0, -66.66666666666666, 0.0, -100.0]
## ivy
Gain =  -1.11 %
Gain =  -32.61 %
Gain =  -44.57 %
Gain =  21.11 %
Gain =  0.00 %
Gain =  -19.35 %
Gain =  -23.16 %
Gain =  -44.00 %
Gain =  -25.00 %
Gain =  1.14 %
['ivy', -1.1111111111111112, -32.608695652173914, -44.565217391304344, 21.11111111111111, 0.0, -19.35483870967742, -23.157894736842106, -44.0, -25.0, 1.1363636363636365]
## jedit
Gain =  -5.43 %
Gain =  4.95 %
Gain =  7.46 %
Gain =  6.35 %
Gain =  -9.44 %
Gain =  -2.21 %
Gain =  -1.06 %
Gain =  26.09 %
Gain =  -33.52 %
Gain =  16.67 %
['jedit', -5.429864253393665, 4.954954954954955, 7.462686567164178, 6.349206349206349, -9.444444444444445, -2.209944751381215, -1.0582010582010581, 26.08695652173913, -33.5195530726257, 16.666666666666664]
## log4j
Gain =  -5.80 %
Gain =  -17.24 %
Gain =  12.86 %
Gain =  -10.29 %
Gain =  -1.41 %
Gain =  -1.45 %
Gain =  -25.45 %
Gain =  4.23 %
Gain =  -1.45 %
Gain =  -27.78 %
['log4j', -5.797101449275362, -17.24137931034483, 12.857142857142856, -10.294117647058822, -1.4084507042253522, -1.4492753623188406, -25.454545454545453, 4.225352112676056, -1.4492753623188406, -27.77777777777778]
## lucene
Gain =  -31.17 %
Gain =  -27.15 %
Gain =  -18.37 %
Gain =  -12.42 %
Gain =  -35.81 %
Gain =  1.39 %
Gain =  -38.71 %
Gain =  -17.93 %
Gain =  -20.28 %
Gain =  -13.21 %
['lucene', -31.16883116883117, -27.1523178807947, -18.367346938775512, -12.422360248447205, -35.810810810810814, 1.3888888888888888, -38.70967741935484, -17.93103448275862, -20.27972027972028, -13.20754716981132]
## pbeans
Gain =  -13.64 %
Gain =  -11.76 %
Gain =  3.85 %
Gain =  0.00 %
Gain =  15.38 %
Gain =  5.26 %
Gain =  0.00 %
Gain =  -52.63 %
Gain =  -31.58 %
Gain =  -37.50 %
['pbeans', -13.636363636363635, -11.76470588235294, 3.8461538461538463, 0.0, 15.384615384615385, 5.263157894736842, 0.0, -52.63157894736842, -31.57894736842105, -37.5]
## poi
Gain =  -2.87 %
Gain =  10.11 %
Gain =  -21.12 %
Gain =  -26.95 %
Gain =  -25.68 %
Gain =  1.84 %
Gain =  -33.11 %
Gain =  -4.00 %
Gain =  -14.79 %
Gain =  -6.97 %
['poi', -2.8735632183908044, 10.112359550561797, -21.11801242236025, -26.95035460992908, -25.675675675675674, 1.8404907975460123, -33.11258278145696, -4.0, -14.788732394366196, -6.967213114754098]
## synapse
Gain =  14.29 %
Gain =  11.43 %
Gain =  2.86 %
Gain =  0.00 %
Gain =  17.14 %
Gain =  20.59 %
Gain =  14.29 %
Gain =  27.27 %
Gain =  17.65 %
Gain =  5.88 %
['synapse', 14.285714285714285, 11.428571428571429, 2.857142857142857, 0.0, 17.142857142857142, 20.588235294117645, 14.285714285714285, 27.27272727272727, 17.647058823529413, 5.88235294117647]
## velocity
Gain =  8.54 %
Gain =  22.83 %
Gain =  2.13 %
Gain =  15.46 %
Gain =  -14.77 %
Gain =  -20.45 %
Gain =  4.26 %
Gain =  7.53 %
Gain =  -22.09 %
Gain =  10.00 %
['velocity', 8.536585365853659, 22.82608695652174, 2.127659574468085, 15.463917525773196, -14.772727272727273, -20.454545454545457, 4.25531914893617, 7.526881720430108, -22.093023255813954, 10.0]
## xalan
Gain =  -9.45 %
Gain =  15.22 %
Gain =  -3.74 %
Gain =  -6.87 %
Gain =  12.54 %
Gain =  -11.47 %
Gain =  12.38 %
Gain =  0.74 %
Gain =  30.29 %
Gain =  2.70 %
['xalan', -9.454545454545455, 15.22491349480969, -3.741496598639456, -6.866952789699571, 12.538226299694188, -11.46788990825688, 12.37785016286645, 0.7352941176470588, 30.293159609120522, 2.7027027027027026]
## xerces
Gain =  -33.65 %
Gain =  9.82 %
Gain =  1.79 %
Gain =  -0.90 %
Gain =  -1.71 %
Gain =  -12.07 %
Gain =  -20.80 %
Gain =  7.69 %
Gain =  11.21 %
Gain =  -45.22 %
['xerces', -33.65384615384615, 9.821428571428571, 1.7857142857142856, -0.9009009009009009, -1.7094017094017095, -12.068965517241379, -20.8, 7.6923076923076925, 11.206896551724139, -45.21739130434783]
```
